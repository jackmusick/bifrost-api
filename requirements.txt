# Bifrost API - FastAPI Stack Requirements
# This file replaces Azure Functions dependencies with local services

# =============================================================================
# Web Framework
# =============================================================================
fastapi>=0.109.0
uvicorn[standard]>=0.27.0
python-multipart>=0.0.6  # Form data handling

# =============================================================================
# Database (PostgreSQL)
# =============================================================================
sqlalchemy[asyncio]>=2.0.25
asyncpg>=0.29.0  # Async PostgreSQL driver
psycopg2-binary>=2.9.0  # Sync PostgreSQL driver (for Alembic migrations)
alembic>=1.13.0  # Database migrations
greenlet>=3.0.0  # Required by SQLAlchemy async

# =============================================================================
# Message Queue (RabbitMQ)
# =============================================================================
aio-pika>=9.4.0  # Async RabbitMQ client

# =============================================================================
# Cache & Sessions (Redis)
# =============================================================================
redis>=5.0.0
aioredis>=2.0.1

# =============================================================================
# Authentication & Security
# =============================================================================
pyjwt[crypto]>=2.8.0  # JWT tokens
passlib[bcrypt]>=1.7.4  # Password hashing
python-jose[cryptography]>=3.3.0  # Alternative JWT (compatibility)
cryptography>=41.0.0  # Encryption utilities

# =============================================================================
# Configuration
# =============================================================================
pydantic[email]>=2.5.0
pydantic-settings>=2.1.0
python-dotenv>=1.0.0

# =============================================================================
# HTTP & Async
# =============================================================================
httpx>=0.26.0  # Async HTTP client
aiohttp>=3.9.0
aiofiles>=23.2.0

# =============================================================================
# Data Processing
# =============================================================================
PyYAML>=6.0
python-dateutil>=2.8.0
croniter>=2.0.0  # CRON expression parsing
jmespath>=1.0.0

# =============================================================================
# Templating & Documents
# =============================================================================
jinja2>=3.1.0
openpyxl>=3.1.0  # Excel
python-docx>=1.1.0  # Word documents

# =============================================================================
# Git Integration
# =============================================================================
dulwich>=0.21.0
merge3>=0.0.14
PyGithub>=2.1.0

# =============================================================================
# Background Jobs
# =============================================================================
apscheduler>=3.10.0  # Scheduler

# =============================================================================
# Logging & Monitoring
# =============================================================================
python-json-logger>=2.0.0
structlog>=24.1.0

# =============================================================================
# Testing
# =============================================================================
pytest>=7.4.0
pytest-asyncio>=0.23.0
pytest-cov>=4.1.0
pytest-env>=1.1.0
httpx  # For TestClient

# =============================================================================
# Development
# =============================================================================
debugpy>=1.8.0
watchdog>=3.0.0
ruff>=0.1.0
